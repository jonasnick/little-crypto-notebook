\subsection{Zero Knowledge Arguments of Knowledge}

A zero-knowledge argument of knowledge consists of a non-interactive PPT Turing
machine $\setup$ which outputs a \emph{common random string} $\sigma$, and two interactive PPT Turing machines $\prover$ (prover) and $\verifier$ (verifier).
The prover and verifier interacting on inputs $x$ and $y$ will
produce a transcript $\pi$ and output a bit $b$ indicating whether the verifier accepts, which we write $\pi \gets
\ip{\prover(x)}{\verifier(y)} = b$.
For any $\sigma$, a value $w$ is a \emph{witness} for a \emph{statement} $x$ if it
satisfies the relation $(\sigma, x, w) \in \mathcal{R}$.

A zero-knowledge argument of knowledge must satisfy completeness, soundness, and zero-knowledge.
Completeness requires that the
prover be able to convince the verifier to accept $x$ with overwhelming probability
if $(\sigma, x, w) \in \mathcal{R}$.
Soundness requires that the prover fail with
overwhelming probability to convince the verifier to accept if $(\sigma, x, w) \notin
\mathcal{R}$.
The zero-knowledge property requires
that the verifier learns nothing about the witness from
interacting with an honest prover. This is formalized via the
existence of a simulator that is able to
construct an identically distributed proof without knowledge of the witness.

\subsection{Perfect Special Honest Verifier Zero Knowledge}
\begin{definition}[Perfect Special Honest Verifier Zero-Knowledge]
    \label{def:pshvzk}
    The protocol $(\setup, \prover, \verifier)$ has perfect \emph{Special Honest Verifier Zero-Knowledge~(PSHVZK)}
    if there exists a probabilistic polynomial time (PPT) simulator $\mathcal{S}$
    such that for all pairs of adversaries $(\adv_1,\adv_2)$,
    \begin{align*}
      &\prob{
        \begin{array}{c}
          (\sigma, x, w) \in \mathcal{R}\\
          \land \ \adv_2(\sigma, \pi) = 1
        \end{array}
        \middle| % \sigma \gets \setup(1^{\lambda}),
        \begin{array}{c}
            \sigma \gets \setup(\secparam);
            (x, w, \rho) \gets \adv_1(\sigma);\\
            \pi \gets \ip{\prover(\sigma, x, w)}{\verifier(\sigma, x; \rho)}
        \end{array}
      }\\
      &= \prob{
        \begin{array}{c}
          (\sigma, x, w) \in \mathcal{R}\\
          \land \ \adv_2(\sigma, \pi) = 1
        \end{array}
        \middle| % \sigma \gets \setup(1^{\lambda}),
        \begin{array}{c}
            \sigma \gets \setup(\secparam);
            (x, w, \rho) \gets \adv_1(\sigma);\\
            \pi \gets \mathcal{S}(x, \rho)
        \end{array}
      }.\hspace*{2em}
    \end{align*}
\end{definition}
It follows that a protocol is not SHVZK if there's $(\adv_1,\adv_2)$ which can distinguish between a transcript $\pi$ generated by real interaction and a simulated transcript (i.e. one that's produced by a simulator without access to the witness $w$).

Note that $\verifier(\sigma, x; \rho)$ means that $\verifier$ is run on randomness $\rho$.
The reason for the word ``special'' in PSVHZK is that the simulator gets access to the same randomness $\rho$ as the verifier.